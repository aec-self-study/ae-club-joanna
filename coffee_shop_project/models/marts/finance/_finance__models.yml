version: 2

models:
  - name: monthly_new_customers
    description: 'customers who ordered for the first time, aggregated per month'

    columns:
      - name: order_month
        tests:
          - unique
          - not_null

      - name: new_customers
        tests:
          - not_null

  - name: weekly_revenue_by_customer_type
    description: 'revenue aggregated by week and new/returning customer type'

    columns:
      - name: date_week
        tests:
          - not_null

  - name: weekly_revenue_by_product_category
    description: 'revenue aggregated by week per category'

    columns:
      - name: date_week
        tests:
          - not_null